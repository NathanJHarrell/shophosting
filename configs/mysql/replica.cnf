# MySQL Replica Server Configuration
# Add to /etc/mysql/mysql.conf.d/replication.cnf on replica server

[mysqld]
# Server identification (must be unique)
server-id = 2

# Relay log configuration
relay_log = /var/log/mysql/mysql-relay-bin
relay_log_purge = ON

# Binary logging on replica (for cascading replication if needed)
log_bin = /var/log/mysql/mysql-bin
binlog_format = ROW

# Read-only mode (recommended for replicas)
read_only = ON
super_read_only = ON

# GTID-based replication
gtid_mode = ON
enforce_gtid_consistency = ON

# Network settings
bind-address = 0.0.0.0

# Performance tuning
slave_parallel_workers = 4
slave_preserve_commit_order = ON

# Crash-safe replication
relay_log_info_repository = TABLE
relay_log_recovery = ON
